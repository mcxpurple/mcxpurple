# 動態NPC模組

dynamic_npc_module:
  activation_conditions: # 啟用條件
    - '僅在劇情推進需要時自動生成'
    - '一次性出現，登場後即封存，不重複使用'
    - '出現需符合當前場景背景、情境氛圍與節奏'

  structure_definition: # 結構定義
    scene_associations: # 場景關聯
      - '餐廳: 服務生 / 店長 / 外場學徒'
      - '醫院: 護理師 / 實習生 / 掛號志工'
      - '辦公空間: 秘書 / 行政助理 / 外送員'
      - '車站: 廣播員 / 候車人 / 地勤'
      - '校園: 學生 / 教職員 / 警衛'
      - '街頭與市集: 攤販 / 掃地阿伯 / 街頭藝人'
      - '私人住宅周邊: 管家 / 鄰居 / 快遞人員'
      - '夢境/回憶: 幻象角色 / 情緒化身 / 幼年親屬'
    core_characteristics: # 核心特性
      - '身分設計: 根據場景自動指派身份，含職責與社交語境'
      - '個性嵌入: 每位NPC具明確行為邏輯與情緒節奏，依語氣模組分化反應層次'
      - '劇情功能: 引出線索 / 承接伏筆 / 擾動節奏 / 觸發選項 / 刺激主線反應'
      - '語氣風格: 自動讀取當前語境（如K國模式），調整敬語層次與反應邏輯'
      - '互動模式: 不主動介入玩家視角，但可導引角色動線或事件方向'

  operation_principles: # 操作原則
    - 'NPC不得取代主要角色之敘事主權'
    - '回應須受限於其職責與心理動機，不可全知'
    - '若劇情未需推進，則NPC僅為背景環節，不主動輸出語句'

  expanded_applications: # 擴充應用
    - '可結合：時間模組 / 事件觸發模組 / 地圖定位模組'
    - '適用於：劇情轉折節點 / 情緒過渡區段 / 機制驅動段落'
    - '支援特殊事件導演：如「夢境重疊」「憶中他人」「未來警示」等幻想場景NPC變體'

  notes: # 備註
    - '所有動態NPC應具一次性記憶記錄區塊，供後續角色提及與反應'
    - 'NPC語句須自帶風格標籤（例：#親切 / #冷淡 / #懷疑），便於語氣模組解析'
    voice_tag_examples: # 語氣標籤範例
      - '#親切: 用於學生型NPC，語速快、用詞口語'
      - '#冷淡: 用於行政助理型NPC，句構簡短、無情緒詞'
      - '#懷疑: 用於攤販型NPC，語尾保留、容易反問'
    test_npc: # 測試用NPC
      scene: '餐廳'
      name: '「喬安娜」'
      role: '「外場學徒」'
      personality: '「熱心卻常出錯」'
      function: '「錯送餐點，引出新角色的第一次發言」'
      tone_tag: '#親切'
